---
layout: default
nav: docs
---
<div class="container">

  <div class="row">
    <div class="col-md-12">

      <div class="toc pull-right clearfix">
        <h3>Table Of Contents</h3>
        <ul>
          <li><a href="#intro">Introduction</a></li>
          <li><a href="#installation">Installation</a></li>
          <li><a href="#core_attributes">Core Attributes</a></li>
          <li><a href="#triggers">Triggering Requests</a></li>
          <li><a href="#targeting">Targeting Other Elements</a></li>
          <li><a href="#inputs">Forms & Input Values</a></li>
          <li><a href="#polling">Polling</a></li>
          <li><a href="#progress">Progress Indicators</a></li>
          <li><a href="#transitions">Element Transitions</a></li>
          <li><a href="#requests">Anatomy of an Intercooler Request</a></li>
          <li><a href="#responses">Anatomy of an Intercooler Response</a></li>
          <li><a href="#dependencies">Dependencies In Intercooler</a></li>
          <li><a href="#events">Events</a></li>
          <li><a href="#debugging">Debugging</a></li>
          <li><a href="#javascript">Using Intercooler from Javascript</a></li>
        </ul>
      </div>

      <section>
        <a class="anchor" id="intro"></a>

        <h2>An Introduction To Intercooler</h2>

        <p>Intercooler is very simple to use if you have any web development experience.  Anyone reading this
          should be familiar with anchor tags in HTML:</p>

        <pre class="special">
  &lt;a href="http://intercoolerjs.org/">Get Intercooler&lt;/a></pre>

        <p>
          This tells a browser:
        </p>

        <blockquote><em>"When a user clicks on this link, issue an HTTP GET request to 'http://intercoolerjs.org/' and
          load the response content into this browser window".</em></blockquote>

        <p>Intercooler builds on this simple concept:</p>

        <pre class="special">
  &lt;a ic-post-to="/button_click">Click Me!&lt;/a></pre>

        <p>
          This tells a browser:
        </p>

        <blockquote><em>"When a user clicks on this link, issue an HTTP POST request to '/button_click' and
          load the response content into this element".</em></blockquote>

        <p>
          So you can see that it is very similar a standard anchor link, except that:
        </p>

        <ul>
          <li>A different HTTP action is used</li>
          <li>The request is done via AJAX</li>
          <li>The response replaces the contents of the element, rather than the entire page</li>
        </ul>

        <p>And there you have the core of intercooler.  It's a simple idea, but you will be surprised how much you can do
          with it.</p>

        <p>Here is a working version of this example:</p>

        <div class="live-demo">
          <script>
            $.mockjax({
              url: '/button_click',
              responseText: 'You Clicked Me!'
            })
          </script>
          <a ic-post-to="/button_click">Click Me!</a>
        </div>

      </section>

      <section>
        <a class="anchor" id="installation"></a>

        <h2>Installing Intercooler</h2>

        <p>Intercooler is just another javascript library, and can be either installed locally with your web application
          or loaded off our CDN (generously donated by <a href="https://www.maxcdn.com/">MaxCDN</a>):</p>

      <pre style="width:90%">
  &lt;script src="https://code.jquery.com/jquery-1.10.2.min.js">&lt;/script>
  &lt;script src="https://intercoolerreleases-leaddynocom.netdna-ssl.com/intercooler-0.4.5.min.js">&lt;/script>
      </pre>

        <p>You can always grab the latest code from the <a href="download.html">Downloads</a> page.</p>

      </section>

      <section>
        <a class="anchor" id="core_attributes"></a>

        <h2>The Core Intercooler Attributes</h2>

        <p>
          The core attributes of intercooler are: <code>ic-get-from</code>, <code>ic-post-to</code>,
          <code>ic-put-to</code>, and <code>ic-delete-from</code>.</p>

        <p>Each of these takes a (typically relative) URL
          to issue a request to and then issue an HTTP <code>GET</code>, <code>POST</code>, <code>PUT</code> or <code>DELETE</code>
          respectively, loading the response content into the element they are on.
        </p>

      </section>

      <section>
        <a class="anchor" id="triggers"></a>

        <h2>Triggering Intercooler Requests</h2>

        <p>
          The core intercooler attributes specify where to make a request, but they don't specify when to do so.  By default
          intercooler will use the natural event for an element:
        </p>

        <ul>
          <li>For <code>form</code> elements, issue the request on the <code>submit</code> event.</li>
          <li>For elements matching the <a href="http://api.jquery.com/input-selector/">JQuery <code>:input</code> pseudo-selector</a>
            <strong>except buttons</strong>, issue the request on the <code>change</code> event.</li>
          <li>For all other elements, including buttons, issue the request on the <code>click</code> event.</li>
        </ul>

        <p>
          For any element you can override the event that triggers an intercooler response by using the <code>ic-trigger-on</code>
          attribute:
        </p>

        <pre style="width:90%">
  &lt;a ic-post-to="/mouse_entered" ic-trigger-on="mouseenter">Mouse Over Me!&lt;/a></pre>
        <p>

        <div class="live-demo">
          <script>
            $.mockjax({
              url: '/mouse_entered',
              responseText: 'The Mouse Entered Me!'
            })
          </script>
          <a ic-post-to="/mouse_entered" ic-trigger-on="mouseenter">Mouse Over Me!</a>
        </div>

        <h3>Special Events</h3>

        <p>
          In addition to <a href="http://api.jquery.com/category/events/">the standard JQuery events </a>, Intercooler
          supports a special event: <code>scrolled-into-view</code>, which is fired when an element is scrolled into view.
          This can be useful for implementing UI patterns such as infinite scroll or lazy image loading.
        </p>

      </section>

      <section>
        <a class="anchor" id="targeting"></a>

        <h2>Targeting Other Elements</h2>

        <p>
          Sometimes you don't want to replace the content of the element that causes an intercooler request, but
          rather some other element on the page.  For example, you may have a link that, when it is clicked, should
          replace an entire section of content with the server response.
        </p>

        <p>For these situations you can use the <code>ic-target</code> attribute, which takes
          <a href="http://api.jquery.com/category/selectors/"> a JQuery selector </a> (typically with an element id).</p>

        <pre style="width:90%">
  &lt;a ic-post-to="/target_span" ic-target='#target_span'>Click Me!&lt;/a>
  &lt;span id="target_span">You haven't clicked the link next to me...&lt;/span></pre>
        <p>

        <div class="live-demo">
          <script>
            $.mockjax({
              url: '/target_span',
              responseText: 'You Clicked The Link!'
            })
          </script>
          <a ic-post-to="/target_span" ic-target='#target_span'>Click Me!</a>
          <span id="target_span">You haven't clicked the link next to me...</span>
        </div>

      </section>

      <section>
        <a class="anchor" id="inputs"></a>
        <h2>Forms & Input Values</h2>

        <p>Including form data is very simple in intercooler.  By default, any element causing an intercooler request
        will include the serialized version of the nearest parent form.  So if the element is a form or is nested within
        a form the entire form will be serialized and sent up with the request.</p>

        <p>Intercooler includes some additional parameters in the request to help you understand which element invoked
        the request, see <a href="#requests">Anatomy of an Intercooler Request</a> below for more information.</p>

        <h3>Including Other Elements</h3>

        <p>Sometimes you may want to include the values of inputs in a different part of the DOM.  To do this, intercooler
        supports an attribute, <code>ic-include</code>, in which you can specify a JQuery selector to indicate what other
        elements to serialize in the request.</p>

        <div class="live-demo">
          <script>
            $.mockjax({
              url: '/form_demo',
              response: function(settings){
                var params = parseParams(settings.data);
                this.responseText = "You entered the email '" + params['email'] + "'.<br/>All parameters: " + settings.data;
              }
            })
          </script>
          <form ic-post-to="/form_demo" ic-target="#form-target">
            <input type="hidden" name="hidden" value="hidden value"/>
            <div class="form-group">
              <label for="exampleInputEmail1">Email address</label>
              <input name="email" type="email" class="form-control" id="exampleInputEmail1" placeholder="Enter email">
            </div>
            <div class="form-group">
              <label for="exampleInputPassword1">Password</label>
              <input name="password" type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
            </div>
            <div class="checkbox">
              <label>
                <input type="checkbox"> Check me out
              </label>
            </div>
            <button id="form-button-1" type="submit" class="btn btn-default">Submit</button>
          </form>
          <span id="form-target">Submit the form above...</span>
        </div>

      </section>

      <section>
        <a class="anchor" id="polling"></a>
        <h2>Polling</h2>

        <p>A common pattern in web development is to have a page poll a URL for updates.  Until the day comes when
        push technologies are available widely, this technique is the best way to dynamically update a UI without a
        specific client-side event happening.</p>

        <p>Intercooler supports an attribute, <code>ic-poll</code>, which tells an element to poll whatever URL is
        associated with it on a given interval. This attribute can be of the form "10s" or "100ms", where "s" indicates
        seconds and "ms" indicates milliseconds.</p>

        <p>Below is an example:</p>

        <pre>
          &lt;span ic-poll="2s" ic-src="/poll_example">
            This span will poll the server every two seconds...
          &lt;/span>
        </pre>

        <div class="live-demo">
          <script>
            (function(){
              var count = 0;
              $.mockjax({
                url: '/poll_example',
                response: function() {
                  count++;
                  this.responseText = 'This span has polled ' + count + " times...";
                }
              })
            })()
          </script>
          <span ic-poll="2s" ic-src="/poll_example">This span will poll the server every two seconds...</span>
        </div>

        <h3>Configuring Polling Behavior</h3>

        <p>Intercooler supports a few ways to modify polling behavior.  The first is the <code>ic-poll-repeats</code>
        attribute, which you can use to limit the number of times a intercooler will poll for a given element.</p>

        <p>A second way is to use the <code>X-IC-CancelPolling</code> response header, which will cancel polling of an
        element.  See the <a href="#responses">Anatomy of an Intercooler Response</a> section for more details on
        intercooler response headers.</p>

      </section>

      <section>
        <a class="anchor" id="progress"></a>
        <h2>Progress Indicators</h2>
      </section>

      <section>
        <a class="anchor" id="transitions"></a>
        <h2>Element Transitions</h2>
      </section>

      <section>
        <a class="anchor" id="requests"></a>
        <h2>Anatomy Of An Intercooler Request</h2>

        <p>
          Intercooler requests are fairly straight forward HTTP requests, but they do have a few non-standard
          aspects that help you out.
        </p>

        <h4>Special Parameters</h4>

        <p>
          In addition to the form serialization discussed above, intercooler requests include a few additional parameters
          in every AJAX request:
        </p>

        <table class="table table-striped table-hover">
          <thead>
          <tr>
            <th style="width:360px">Parameter</th>
            <th>Description</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td>
              <code>ic-request</code>
            </td>
            <td>
              This will always be <code>true</code> for intercooler requests.
            </td>
          </tr>
          <tr>
            <td>
              <code>_method</code>
            </td>
            <td>
              Because not all browsers support <code>PUT</code> and <code>DELETE</code> requests
              in AJAX, intercooler uses the Rails convention and adds a <code>_method</code> parameter to the request whose
              value will be the HTTP Method type (e.g. <code>DELETE</code>).
            </td>
          </tr>
          <tr>
            <td>
              <code>ic-last-refresh</code>
            </td>
            <td>
            This is a timestamp of the last time the target element was refreshed.
            This can be used to calculate time-sensitive UI updates (e.g. appending to a list of messages.)            </td>
            </td>
          </tr>
          <tr>
            <td>
              <code>ic-fingerprint</code>
            </td>
            <td>
            The SHA256 fingerprint of the current content.  This can be used to avoid
            sending down unnecessary updates, caching, etc.
            </td>
          </tr>
          <tr>
            <td>
              <code>ic-element-id</code>
            </td>
            <td>
            The HTML id of the element that caused the request.  This helps you differentiate between different buttons
            that may hit the same URL, for example.
            </td>
          </tr>
          <tr>
            <td>
              <code>ic-element-name</code>
            </td>
            <td>
              The HTML name of the element that caused the request.  This helps you differentiate between different buttons
            that may hit the same URL, for example.
            </td>
          </tr>
          <tr>
            <td>
              <code>ic-id</code>
            </td>
            <td>
            The internal intercooler ID of the element that caused the request.
            </td>
          </tr>
          </tbody>
        </table>

        <h4>Special Headers</h4>

        <p>
          Intercooler also includes a few extra request headers:
        </p>

        <table class="table table-striped table-hover">
          <thead>
          <tr>
            <th style="width:360px">Header</th>
            <th>Description</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td>
              <code>X-IC-Request</code>
            </td>
            <td>
              Set to <code>true</code>
            </td>
          </tr>
          <tr>
            <td>
              <code>X-HTTP-Method-Override</code>
            </td>
            <td>
              Set to the HTTP Method type (e.g. <code>DELETE</code>) for the request, to communicate the actual
              request type to the server if it cannot be directly supported by the client.
            </td>
          </tr>
          </tbody>
        </table>

      </section>

      <section>
        <a class="anchor" id="responses"></a>
        <h2>Anatomy Of An Intercooler Response</h2>
        <h3>Headers</h3>
      </section>

      <section>
        <a class="anchor" id="dependencies"></a>
        <h2>Dependencies In Intercooler</h2>
      </section>

      <section>
        <a class="anchor" id="events"></a>
        <h2>Intercooler Events</h2>
      </section>

      <section>
        <a class="anchor" id="debugging"></a>
        <h2>Debugging Intercooler</h2>
      </section>

      <section>
        <a class="anchor" id="javascript"></a>
        <h2>Using Intercooler from Javascript</h2>
      </section>

    </div>
  </div>


  <div class="row">
    <div class="col-md-12">

      <h2>Secondary Intercooler Attributes</h2>

      <p>There are a few secondary attributes that you will often find useful when you are using intercooler:</p>

      <ul>
        <li><a href="/attributes/ic-target.html"><code>ic-target</code></a> - A CSS selector specifying <strong>Who</strong>
          (i.e. which element besides this one) to replace the content of.</li>
        <li><a href="/attributes/ic-include.html"><code>ic-include</code></a> - A CSS selector specifying
          <strong>What Other</strong> elements to include (as parameters) with the AJAX request</li>
        <li><a href="/attributes/ic-indicator.html"><code>ic-indicator</code></a> - What <strong>indicator</strong> element
          to make visible while the AJAX request is <strong>in flight</strong> (e.g. a spinner)</li>
        <li><a href="/attributes/ic-transition.html"><code>ic-transition</code></a> - <strong>How</strong> to swap in the
          new content (e.g. "none" to have no transition easements)</li>
      </ul>

      <p>Extending the example above, we could have this</p>

      <pre>
  &lt;div id="targetDiv">Results Div...&lt;/div>
  &lt;i id="indicator" style="display:none" class="fa fa-spinner fa-spin"></i>
  &lt;input id="hiddenInput" type="hidden" name="hidden" value="42"/>

  &lt;div ic-trigger-on="click" ic-verb="POST" ic-src="/example" ic-include="#hiddenInput"
       ic-indicator="#indicator" ic-target="#targetDiv" ic-transition="none">
    Click Me!
  &lt;/div>
</pre>

      <p>This more complicated setup tells intercooler:</p>

      <blockquote>
        When this div is clicked, issue a <code>POST</code> to <code>/example</code>, including the value of the
        input with the ID <code>hiddenInput</code>.  While the AJAX request is in flight, show the spinner with the ID
        <code>indicator</code>.  When the response returns, replace the body of the div with the id <code>targetDiv</code>
        with no transition easement (e.g. no fading).
      </blockquote>

      <p>You can see all the intercooler attributes available on the <a href="/attributes/all.html">Attributes Page</a></p>

    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <h2>Intercooler Requests Explained</h2>

      <p>Intercooler requests are made up of three phases:</p>

      <ol>
        <li>The Request Phase</li>
        <li>The Response Phase</li>
        <li>The Dependencies Phase</li>
      </ol>

      <p>Each phase is explained briefly below.</p>

      <h3>The Request Phase</h3>

      <p>The Request Phase is usually triggered by either a user action or a polling event. Intercooler will look
        at the <code>ic-src</code>, <code>ic-verb</code>, etc. attributes and issue an appropriate AJAX request,
        showing the request indicator (if any exists).</p>

      <h3>The Response Phase</h3>

      <p>When the server responds, Intercooler will first examine the <a href="/responses.html#http_headers">response
      headers</a> to see if there are any directives to execute.  Then, if the body of the response is non-empty, it will
      swap the new content into the targeted element using the specified transition (or the default one if none was
      specified.)  At this point the request indicator will be re-hidden.</p>

      <h3>The Dependency Phase</h3>

      <p>Finally, if the request was due to human input, intercooler will enter the dependency phase.  It will look for
        other elements on the page that have an <code>ic-src</code> that <em>depends</em>
        (<a href="/dependencies.html">as defined here</a>) on the URL that was uses in the Request Phase <strong>AND</strong>
        that are a <code>GET</code>, and will issue requests for updated content for them.  Dependency propagation
        terminates here: no further requests will be issued automatically.</p>

    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <h2>Examples</h2>

      <p>Here are some examples of intercooler in action.</p>


      <h3>Polling Update</h3>

      <p>This example shows a div that polls a URL for updates.</p>

        <pre>
  &lt;div ic-src="/visitors/count_div" ic-poll="2s">
    You have had 42 visitors today
  &lt;/div>
</pre>

      <p>It will poll the given URL, <code>/visitors/count_div/</code> by issuing an AJAX <code>GET</code>
        every two seconds.</p>

      <p>Here is an example of a returned fragment from <code>GET /visitors/count_div/</code>:</p>

      <div class="row">
      <pre>
    You have had 103 visitors today
</pre>
      </div>

      <p>Here is the div in action (be patient, sometimes no new visitors show up so it won't update on every 2 second interval):</p>

      <div class="live-demo">
        <script>
          (function () {
            var count = 42;
            $.mockjax({
              url: '/visitors/count_div',
              response: function () {
                if(Math.random() > .5) {
                  count += Math.floor(Math.random() * 6);
                }
                this.responseText = 'You have had ' + count + ' visitors today';
              }
            });
          })();
        </script>
        <div ic-src="/visitors/count_div">You have had 42 visitors today</div>
      </div>

      <h3>A Trigger + Dependencies Example</h3>

      <p>The example above is passive: it polls the URL without any user input.  Let's make it respond to a button
        click instead, and introduce our first dependency example:</p>

      <div class="row">
        <pre>
  &lt;div ic-src="/example/click">
    You have not yet clicked the button
  &lt;/div>

  &lt;button ic-post-to="/example/click">
    Click Me!
  &lt;/button>
</pre>
      </div>

      <p>Here we've removed the <code>ic-poll</code> attribute and introduced a button with a , <code>ic-post-to</code>.
        The server receives the post and increments a server-side counter of the number of times
      you have clicked the button.</p>

      <p>When the button is clicked, Intercooler detects that the div <em>depends</em>
        on the URL that the button posted to, and so it automatically does a refresh, issuing a <code>GET</code>
        and swapping any new content into the div.<p>

      <div class="live-demo">
        <script>
          (function () {
            var clicks = 0;
            $.mockjax({
              url: '/example/click',
              response: function (settings) {
                if(settings.type == "GET") {
                  this.responseText = 'You have clicked the button ' + clicks + ' times';
                } else {
                  clicks++;
                }
              }
            });
          })();
        </script>
        <div ic-src="/example/click">You have not yet clicked the button</div>
        <button class="btn btn-primary" ic-post-to="/example/click">Click Me!</button>
      </div>

      <h3>Adding Input</h3>

      <p>In this example we will make things a bit more interactive by allowing the user to enter an item name that
        will be uploaded to the server.</p>

      <div class="row">
        <pre>
  &lt;div ic-src="/name">
    No name entered
  &lt;/div>

  &lt;input id="a_name" type="text" name="name" placeholder="Enter A Name"/>

  &lt;button ic-post-to="/name" ic-include="#a_name">
    Upload Name
  &lt;/button>
</pre>
      </div>

      <p>We are targeting a new URL, <code>/name</code> and we've added the <code>ic-include</code>
        attribute, which includes the input <code>#a_name</code> name and value in the POST that is
        submitted by the button.</p>

      <div class="live-demo">
        <script>
          (function () {
            var name = "";
            $.mockjax({
              url: '/name',
              response: function (settings) {
                if(settings.type == "GET") {
                  if(name == "") {
                    this.responseText = 'No name entered';
                  } else {
                    this.responseText = 'You entered the name: ' + name + '';
                  }
                } else {
                  var params = parseParams(settings.data)
                  name = params['name'];
                }
              }
            });
          })();
        </script>
        <div ic-src="/name">No name entered</div>
        <input id="a_name" type="text" name="name" placeholder="Enter A Name"/>
        <button class="btn btn-primary" ic-post-to="/name" ic-include="#a_name">Upload Name</button>
      </div>

      <h3>Switching To UL</h3>

      <p>In this example we will switch the target from a div swap to a list prepend, using intercooler's
        <a href="/attributes/ic-prepend-from.html"><code>ic-prepend-from</code></a> attribute</p>

      <div class="row">
        <pre>
  &lt;input id="item_name" type="text" name="item_name" placeholder="Enter Item Name"/>
  &lt;button ic-post-to="/items" ic-include="#item_name">Upload Name&lt;/button>
  &lt;ul ic-prepend-from="/items" ic-limit-children="3">
    &lt;li>Placeholder&lt;/li>
  &lt;/ul>
        </pre>
      </div>

      <p>As before, we are passing up the item
      name via the <code>ic-include</code> attribute, and we are limiting the number of children in the list
      to a total of 3 with the <code>ic-limit-children</code> attribute:</p>

      <div class="live-demo">
        <script>
          (function () {
            var items = [];
            $.mockjax({
              url: '/items',
              response: function (settings) {
                if(settings.type == "GET") {
                  var str = items.map(function(str) { return "<li>" + str + "</li>"}).join("\n")
                  items = [];
                  this.responseText =  str;
                } else {
                  var params = parseParams(settings.data);
                  items.push(params['item_name']);
                }
              }
            });
          })();
        </script>
        <input id="item_name" type="text" name="item_name" placeholder="Enter Item Name"/>
        <button class="btn btn-primary" ic-post-to="/items" ic-include="#item_name">Upload Name</button>
        <ul ic-prepend-from="/items" ic-limit-children="3">
          <li>Placeholder</li>
        </ul>
      </div>

      <h3>Implementing A Dynamic Progress Bar</h3>

      <p>Finally, lets finish with a relatively complicated example: a job-monitoring UI</p>

      <p>To do this, we will use Intercooler's <code>ic-style-src</code> attribute, which allows us to bind
      a style property to a URL.  The UI will first start of with a placeholder div.  When the button is clicked,
      the job will start, replacing the div with a progress bar.  When the job completes, the original placeholder
      div will return.</p>

      <p>We will start with the following code:</p>

      <div class="row">
        <pre>
        &lt;button class="btn btn-primary" ic-post-to="/job">Start Job&lt;/button>
        &lt;div ic-src="/job">Job Not Running...&lt;/div>
        </pre>
      </div>

      <p>Pretty simple: a div and a button that are both tied to the same URL.  Remember, this means that
      the div depends on the button, and it will be refreshed after the button is clicked.</p>

      <p>When the button is clicked a (simulated) job is kicked off.  When a request for the div is made, the
      following HTML fragment is returned:</p>

      <div class="row">
        <pre>
  Job Running:
  &lt;div class="progress progress-striped active">
    &lt;div class="progress-bar"
         ic-style-src="width:/job/percent_complete"
         ic-poll="1s" style="width:0%">&lt;/div>
  &lt;/div>
          </pre>
      </div>

      <p>
        This HTML is swapped in for the body of the div, and includes a Bootstrap-based progress bar.  The <code>width</code>
        style attribute of the progress bar is tied to the <code>/job/percent_complete</code> URL using the <code>ic-style-src</code>
        directive, which it polls ever second.  That URL will return values like <code>37%</code> and <code>78%</code>,
        which will update the width of the progress bar.
      </p>

      <p>
        When the job is finished the request to <code>/job/percent_complete</code> includes a
        <a href="responses.html#http_headers">Intercooler HTTP Header</a> directive telling Intercooler to refresh all elements that
        depend on the <code>/job</code> path, which refreshes the parent div and removes the progress bar.
      </p>

      <p>Here is the code in action:</p>

      <div class="live-demo">
        <script>
          (function () {
            var process = null;

            // simulate job endpoint
            $.mockjax({
              url: '/job',
              response: function (settings) {
                if(settings.type == "GET") {
                  if(process != null) {
                    this.responseText = 'Job Running:' +
                      '  <div class="progress progress-striped active">' +
                      '   <div class="progress-bar" ic-style-src="width:/job/percent_complete" ic-poll="1s" style="width:0%"></div>' +
                      '  </div>'
                  } else {
                    this.responseText = 'Job Complete!'
                  }
                } else {
                  process = 0;
                }
              }
            });

            // simulate percent complete endpoint
            $.mockjax({
              url: '/job/percent_complete',
              response: function () {
                if (process != null && process < 100) {
                  process += Math.min(100, Math.floor(33 * Math.random()));
                  this.responseText = process + "%";
                } else {
                  process = null;
                  this.headers = {
                    "X-IC-Refresh": "/job"
                  };
                }
              }});
          })();
        </script>
        <button class="btn btn-primary" ic-post-to="/job">Start Job</button>
        <div ic-src="/job">Job Not Running...</div>
      </div>


    <h3>On To The Docs...</h3>

    <p>That gives you a good overview of intercooler and what you can accomplish.  You can read about all the
    attributes <a href="/attributes/all.html">here</a>, response tricks <a href="/attributes/responses.html">here</a>, and the javascript API <a href="http://intercoolerjs.org/extending.html">here</a>.</p>

    <h3><a href="/tutorials/">Want more examples?  Check out the tutorials &rarr;</a></h3>

    </div>
  </div>


</div>
