/*! intercooler  0.5.0 2015-05-20 */
var Intercooler=Intercooler||function(){"use strict";function remove(a){a.remove()}function showIndicator(a){a.closest(".ic-use-transition").length>0?(a.data("ic-use-transition",!0),a.removeClass("ic-use-transition")):a.show()}function hideIndicator(a){a.data("ic-use-transition")?(a.data("ic-use-transition",null),a.addClass("ic-use-transition")):a.hide()}function prepend(a,b){if(a.prepend(b),a.attr("ic-limit-children")){var c=parseInt(a.attr("ic-limit-children"));a.children().length>c&&a.children().slice(c,a.children().length).remove()}}function append(a,b){if(a.append(b),a.attr("ic-limit-children")){var c=parseInt(a.attr("ic-limit-children"));a.children().length>c&&a.children().slice(0,a.children().length-c).remove()}}function log(a,b,c){if(null==a&&(a=$("body")),a.trigger("log.ic",[b,c,a]),"ERROR"==c){window.console&&window.console.log("Intercooler Error : "+b);var d=closestAttrValue($("body"),"ic-post-errors-to");d&&$.post(d,{error:b})}}function uuid(){return _UUID++}function icSelectorFor(a){return"[ic-id='"+getIntercoolerId(a)+"']"}function findById(a){return $("#"+a)}function parseInterval(a){return log(null,"POLL: Parsing interval string "+a,"DEBUG"),"null"==a||"false"==a||""==a?null:a.lastIndexOf("ms")==a.length-2?parseFloat(a.substr(0,a.length-2)):a.lastIndexOf("s")==a.length-1?1e3*parseFloat(a.substr(0,a.length-1)):1e3}function initScrollHandler(){null==_scrollHandler&&(_scrollHandler=function(){$("[ic-trigger-on='scrolled-into-view']").each(function(){isScrolledIntoView($(this))&&1!=$(this).data("ic-scrolled-into-view-loaded")&&($(this).data("ic-scrolled-into-view-loaded",!0),fireICRequest($(this)))})},$(window).scroll(_scrollHandler))}function currentUrl(){return window.location.pathname+window.location.search+window.location.hash}function getTarget(a){var b=$(a).closest("[ic-target]"),c=b.attr("ic-target");return"this"==c?b:c&&0!=c.indexOf("this.")?0==c.indexOf("closest ")?a.closest(c.substr(8)):$(c):a}function getTargetForHistory(a){var b=closestAttrValue(a,"ic-history-target");return b?$(b):getTarget(a)}function handleHistory(a,b,c,d){c.getResponseHeader("X-IC-PushURL")?(log(a,"pushing location into history via header: "+c.getResponseHeader("X-IC-PushURL"),"DEBUG"),_history.pushUrl(c.getResponseHeader("X-IC-PushURL"),b,currentUrl(),d)):"true"==closestAttrValue(a,"ic-push-url")&&(log(a,"pushing location into history via ic-push-url attribute: "+a.attr("ic-src"),"DEBUG"),_history.pushUrl(a.attr("ic-src"),b,currentUrl(),d))}function processHeaders(elt,xhr){elt.trigger("beforeHeaders.ic",[elt,xhr]),log(elt,"response headers: "+xhr.getAllResponseHeaders(),"DEBUG");var target=null;if(xhr.getResponseHeader("X-IC-Refresh")){var pathsToRefresh=xhr.getResponseHeader("X-IC-Refresh").split(",");log(elt,"X-IC-Refresh: refreshing "+pathsToRefresh,"DEBUG"),$.each(pathsToRefresh,function(a,b){refreshDependencies(b.replace(/ /g,""),elt)})}if(xhr.getResponseHeader("X-IC-Script")&&(log(elt,"X-IC-Script: evaling "+xhr.getResponseHeader("X-IC-Script"),"DEBUG"),eval(xhr.getResponseHeader("X-IC-Script"))),xhr.getResponseHeader("X-IC-Redirect")&&(log(elt,"X-IC-Redirect: redirecting to "+xhr.getResponseHeader("X-IC-Redirect"),"DEBUG"),window.location=xhr.getResponseHeader("X-IC-Redirect")),"true"==xhr.getResponseHeader("X-IC-CancelPolling")&&cancelPolling(elt),xhr.getResponseHeader("X-IC-Open")&&(log(elt,"X-IC-Open: opening "+xhr.getResponseHeader("X-IC-Open"),"DEBUG"),window.open(xhr.getResponseHeader("X-IC-Open"))),xhr.getResponseHeader("X-IC-Trigger")){log(elt,"X-IC-Trigger: found trigger "+xhr.getResponseHeader("X-IC-Trigger"),"DEBUG"),target=getTarget(elt);var triggerArgs=[];xhr.getResponseHeader("X-IC-Trigger-Data")&&(triggerArgs=$.parseJSON(xhr.getResponseHeader("X-IC-Trigger-Data"))),target.trigger(xhr.getResponseHeader("X-IC-Trigger"),triggerArgs)}return xhr.getResponseHeader("X-IC-Remove")&&elt&&(target=getTarget(elt),log(elt,"X-IC-REMOVE header found.","DEBUG"),remove(target)),elt.trigger("afterHeaders.ic",[elt,xhr]),!0}function beforeRequest(a){a.addClass("disabled"),a.data("ic-request-in-flight",!0)}function requestCleanup(a,b){a.length>0&&hideIndicator(a),b.removeClass("disabled"),b.data("ic-request-in-flight",!1),b.data("ic-next-request")&&(b.data("ic-next-request")(),b.data("ic-next-request",null))}function replaceOrAddMethod(a,b){var c=/(&|^)_method=[^&]*/,d="&_method="+b;return c.test(a)?a.replace(c,d):a+"&"+d}function globalEval(a){return window.eval.call(window,a)}function closestAttrValue(a,b){var c=$(a).closest("["+b+"]");return c.length>0?c.attr(b):null}function formatError(a){var b=a.toString()+"\n";try{b+=a.stack}catch(a){}return b}function handleRemoteRequest(a,b,c,d,e){beforeRequest(a),d=replaceOrAddMethod(d,b);var f=findIndicator(a);f.length>0&&showIndicator(f);var g=uuid(),h=new Date;$.ajax({type:b,url:c,data:d,dataType:"text",headers:{Accept:"text/html-partial, */*; q=0.9","X-IC-Request":!0,"X-HTTP-Method-Override":b},beforeSend:function(e,f){a.trigger("beforeSend.ic",[a,d,f,e,g]),log(a,"before AJAX request "+g+": "+b+" to "+c,"DEBUG");var h=closestAttrValue(a,"ic-on-beforeSend");h&&globalEval("(function (data, settings, xhr) {"+h+"})")(d,f,e)},success:function(b,c,d){a.trigger("success.ic",[a,b,c,d,g]),log(a,"AJAX request "+g+" was successful.","DEBUG");var h=closestAttrValue(a,"ic-on-success");if(!h||0!=globalEval("(function (data, textStatus, xhr) {"+h+"})")(b,c,d)){var i=getTarget(a),j=new Date;try{if(processHeaders(a,d)){log(a,"Processed headers for request "+g+" in "+(new Date-j)+"ms","DEBUG");var k=new Date,l=null,m=null;(d.getResponseHeader("X-IC-PushURL")||"true"==closestAttrValue(a,"ic-push-url"))&&(a.trigger("beforeHistorySnapshot.ic",[a,i]),requestCleanup(f,a),l=getTargetForHistory(a),m=l.html()),e(b,c,a,d),handleHistory(a,l,d,m),log(a,"Process content for request "+g+" in "+(new Date-k)+"ms","DEBUG")}a.trigger("after.success.ic",[a,b,c,d,g])}catch(n){log(a,"Error processing successful request "+g+" : "+formatError(n),"ERROR")}}},error:function(b,c,d){a.trigger("error.ic",[a,c,d,b]);var e=closestAttrValue(a,"ic-on-error");e&&globalEval("(function (status, str, xhr) {"+e+"})")(c,d,b),log(a,"AJAX request "+g+" experienced an error: "+d,"ERROR")},complete:function(b,c){log(a,"AJAX request "+g+" completed in "+(new Date-h)+"ms","DEBUG"),requestCleanup(f,a);try{$("body").trigger("complete.ic",[a,d,c,b,g])}catch(e){log(a,"Error during complete.ic event for "+g+" : "+formatError(e),"ERROR")}var i=closestAttrValue(a,"ic-on-complete");i&&globalEval("(function (xhr, status) {"+i+"})")(b,c)}})}function findIndicator(a){var b=null;if($(a).attr("ic-indicator"))b=$($(a).attr("ic-indicator")).first();else if(b=$(a).find(".ic-indicator").first(),0==b.length){var c=closestAttrValue(a,"ic-indicator");c&&(b=$(c).first())}return b}function processIncludes(a){var b="";if(0==$.trim(a).indexOf("{")){var c=$.parseJSON(a);$.each(c,function(a,c){b+="&"+encodeURIComponent(a)+"="+encodeURIComponent(c)})}else $(a).each(function(){b+="&"+$(this).serialize()});return b}function getParametersForElement(a,b){var c=getTarget(a),d="ic-request=true";d+=a.closest("form").length>0?"&"+a.closest("form").serialize():"&"+a.serialize(),a.attr("id")&&(d+="&ic-element-id="+a.attr("id")),a.attr("name")&&(d+="&ic-element-name="+a.attr("name")),c.attr("ic-id")&&(d+="&ic-id="+c.attr("ic-id")),c.attr("id")&&(d+="&ic-target-id="+c.attr("id")),b&&b.attr("id")&&(d+="&ic-trigger-id="+b.attr("id")),b&&b.attr("name")&&(d+="&ic-trigger-name="+b.attr("name")),c.data("ic-last-refresh")&&(d+="&ic-last-refresh="+c.data("ic-last-refresh"));var e=closestAttrValue(a,"ic-include");return e&&(d+=processIncludes(e)),d+="&ic-current-url="+encodeURIComponent(currentUrl()),log(a,"request parameters "+d,"DEBUG"),d}function maybeSetIntercoolerInfo(a){var b=getTarget(a);getIntercoolerId(b),maybeSetIntercoolerMetadata(b),1!=a.data("elementAdded.ic")&&(a.data("elementAdded.ic",!0),a.trigger("elementAdded.ic"))}function updateIntercoolerMetaData(a){a.data("ic-last-refresh",(new Date).getTime())}function maybeSetIntercoolerMetadata(a){a.data("ic-last-refresh",(new Date).getTime())}function getIntercoolerId(a){return a.attr("ic-id")||a.attr("ic-id",uuid()),a.attr("ic-id")}function processNodes(a){processMacros(a),processSources(a),processPolling(a),processTriggerOn(a),processRemoveAfter(a),$(a).trigger("nodesProcessed.ic")}function processMacros(a){$.each(_MACROS,function(b,c){0==$(a).closest(".ic-ignore").length&&($(a).is("["+c+"]")&&processMacro(c,$(a)),$(a).find("["+c+"]").each(function(){0==$(this).closest(".ic-ignore").length&&processMacro(c,$(this))}))})}function processSources(a){0==$(a).closest(".ic-ignore").length&&($(a).is("[ic-src]")&&maybeSetIntercoolerInfo($(a)),$(a).find("[ic-src]").each(function(){0==$(this).closest(".ic-ignore").length&&maybeSetIntercoolerInfo($(this))}))}function processPolling(a){0==$(a).closest(".ic-ignore").length&&($(a).is("[ic-poll]")&&(maybeSetIntercoolerInfo($(a)),startPolling(a)),$(a).find("[ic-poll]").each(function(){0==$(this).closest(".ic-ignore").length&&(maybeSetIntercoolerInfo($(this)),startPolling($(this)))}))}function processTriggerOn(a){0==$(a).closest(".ic-ignore").length&&(handleTriggerOn(a),$(a).find("[ic-trigger-on]").each(function(){0==$(this).closest(".ic-ignore").length&&handleTriggerOn($(this))}))}function processRemoveAfter(a){0==$(a).closest(".ic-ignore").length&&(handleRemoveAfter(a),$(a).find("[ic-remove-after]").each(function(){0==$(this).closest(".ic-ignore").length&&handleRemoveAfter($(this))}))}function startPolling(a){if(null==a.data("ic-poll-interval-id")){var b=parseInterval(a.attr("ic-poll"));if(null!=b){var c=icSelectorFor(a),d=parseInt(a.attr("ic-poll-repeats"))||-1,e=0;log(a,"POLL: Starting poll for element "+c,"DEBUG");var f=setInterval(function(){var b=$(c);a.trigger("onPoll.ic",b),0==b.length||e==d?(log(a,"POLL: Clearing poll for element "+c,"DEBUG"),clearTimeout(f)):fireICRequest(b),e++},b);a.data("ic-poll-interval-id",f)}}}function cancelPolling(a){null!=a.data("ic-poll-interval-id")&&clearTimeout(a.data("ic-poll-interval-id"))}function refreshDependencies(a,b){log(b,"refreshing dependencies for path "+a,"DEBUG"),$("[ic-src]").each(function(){var c=!1;"GET"==verbFor($(this))&&"ignore"!=$(this).attr("ic-deps")&&(isDependent(a,$(this).attr("ic-src"))?(null==b||$(b)[0]!=$(this)[0])&&(fireICRequest($(this)),c=!0):(isDependent(a,$(this).attr("ic-deps"))||"*"==$(this).attr("ic-deps"))&&(null==b||$(b)[0]!=$(this)[0])&&(fireICRequest($(this)),c=!0)),c&&log($(this),"depends on path "+a+", refreshing...","DEBUG")})}function isDependent(a,b){return a&&b&&(0==b.indexOf(a)||0==a.indexOf(b))}function verbFor(a){return a.attr("ic-verb")?a.attr("ic-verb").toUpperCase():"GET"}function eventFor(a,b){return"default"==a?$(b).is("button")?"click":$(b).is("form")?"submit":$(b).is(":input")?"change":"click":a}function preventDefault(a){return a.is("form")||a.is(":submit")&&1==a.closest("form").length}function handleRemoveAfter(a){if($(a).attr("ic-remove-after")){var b=parseInterval($(a).attr("ic-remove-after"));setTimeout(function(){remove(a)},b)}}function handleTriggerOn(a){if($(a).attr("ic-trigger-on"))if("load"==$(a).attr("ic-trigger-on"))fireICRequest(a);else if("scrolled-into-view"==$(a).attr("ic-trigger-on"))initScrollHandler(),setTimeout(function(){$(window).trigger("scroll")},100);else{var b=$(a).attr("ic-trigger-on").split(" ");$(a).on(eventFor(b[0],$(a)),function(c){var d=closestAttrValue(a,"ic-on-beforeTrigger");if(d&&0==globalEval("(function (evt, elt) {"+d+"})")(c,$(a)))return log($(a),"ic-trigger cancelled by ic-on-beforeTrigger","DEBUG"),!1;if("changed"==b[1]){var e=$(a).val(),f=$(a).data("ic-previous-val");$(a).data("ic-previous-val",e),e!=f&&fireICRequest($(a))}else fireICRequest($(a));return preventDefault(a)?(c.preventDefault(),!1):!0})}}function processMacro(a,b){"ic-post-to"==a&&(setIfAbsent(b,"ic-src",b.attr("ic-post-to")),setIfAbsent(b,"ic-verb","POST"),setIfAbsent(b,"ic-trigger-on","default"),setIfAbsent(b,"ic-deps","ignore")),"ic-put-to"==a&&(setIfAbsent(b,"ic-src",b.attr("ic-put-to")),setIfAbsent(b,"ic-verb","PUT"),setIfAbsent(b,"ic-trigger-on","default"),setIfAbsent(b,"ic-deps","ignore")),"ic-get-from"==a&&(setIfAbsent(b,"ic-src",b.attr("ic-get-from")),setIfAbsent(b,"ic-trigger-on","default"),setIfAbsent(b,"ic-deps","ignore")),"ic-delete-from"==a&&(setIfAbsent(b,"ic-src",b.attr("ic-delete-from")),setIfAbsent(b,"ic-verb","DELETE"),setIfAbsent(b,"ic-trigger-on","default"),setIfAbsent(b,"ic-deps","ignore"));var c=null,d=null;if("ic-style-src"==a){c=b.attr("ic-style-src").split(":");var e=c[0];d=c[1],setIfAbsent(b,"ic-src",d),setIfAbsent(b,"ic-target","this.style."+e)}if("ic-attr-src"==a){c=b.attr("ic-attr-src").split(":");var f=c[0];d=c[1],setIfAbsent(b,"ic-src",d),setIfAbsent(b,"ic-target","this."+f)}"ic-prepend-from"==a&&setIfAbsent(b,"ic-src",b.attr("ic-prepend-from")),"ic-append-from"==a&&setIfAbsent(b,"ic-src",b.attr("ic-append-from"))}function setIfAbsent(a,b,c){null==a.attr(b)&&a.attr(b,c)}function isScrolledIntoView(a){var b=$(window).scrollTop(),c=b+$(window).height(),d=$(a).offset().top,e=d+$(a).height();return e>=b&&c>=d&&c>=e&&d>=b}function maybeScrollToTarget(a,b){if("true"==closestAttrValue(a,"ic-scroll-to-target")||"true"==closestAttrValue(b,"ic-scroll-to-target")){var c=-50;closestAttrValue(a,"ic-scroll-offset")?c=parseInt(closestAttrValue(a,"ic-scroll-offset")):closestAttrValue(b,"ic-scroll-offset")&&(c=parseInt(closestAttrValue(b,"ic-scroll-offset")));var d=b.offset().top,e=$(window).scrollTop(),f=e+window.innerHeight;(e>d||d>f)&&(c+=d,$("html,body").animate({scrollTop:c},400))}}function getTransitionDurationString(a,b){var c=closestAttrValue(a,"ic-transition-duration");return c?c:(c=closestAttrValue(b,"ic-transition-duration"),c?c:$(b).css("transition-duration"))}function processICResponse(a,b){if(a&&/\S/.test(a)){log(b,"response content: \n"+a,"DEBUG");var c=getTarget(b),d=maybeFilter(a,closestAttrValue(b,"ic-select-from-response")),e=function(){"true"==closestAttrValue(b,"ic-replace-target")?(c.replaceWith(d),processNodes(d),updateIntercoolerMetaData(d),updateIntercoolerMetaData(d),maybeScrollToTarget(b,d)):(b.is("[ic-prepend-from]")?prepend(c,d):b.is("[ic-append-from]")?append(c,d):(c.empty().append(d),$(c).children().each(function(){processNodes($(this))})),updateIntercoolerMetaData(c),maybeScrollToTarget(b,c))},f=getTransitionDurationString(b,c),g=parseInterval(f);g>0?(c.addClass("ic-transitioning"),setTimeout(function(){e(),setTimeout(function(){c.removeClass("ic-transitioning")},5)},g)):e()}}function maybeFilter(a,b){var c=$.parseHTML(a,null,!0),d=$(c);return b&&(d.is(b)||(d=d.find(b))),d}function getStyleTarget(a){var b=closestAttrValue(a,"ic-target");return b&&0==b.indexOf("this.style.")?b.substr(11):null}function getAttrTarget(a){var b=closestAttrValue(a,"ic-target");return b&&0==b.indexOf("this.")?b.substr(5):null}function fireICRequest(a,b){var c=a;a.is("[ic-src]")||(a=a.closest("[ic-src]"));var d=closestAttrValue(a,"ic-confirm");if((!d||confirm(d))&&a.length>0){var e=uuid();a.data("ic-event-id",e);var f=function(){if(1==a.data("ic-request-in-flight"))return void a.data("ic-next-request",f);if(a.data("ic-event-id")==e){var d=getStyleTarget(a),g=d?null:getAttrTarget(a),h=verbFor(a),i=b||function(b){d?a.css(d,b):g?a.attr(g,b):(processICResponse(b,a),"GET"!=h&&refreshDependencies(a.attr("ic-src"),a))};handleRemoteRequest(a,h,a.attr("ic-src"),getParametersForElement(a,c),i)}},g=closestAttrValue(a,"ic-trigger-delay");g?setTimeout(f,parseInterval(g)):f()}}function newIntercoolerHistory(a,b,c,d,e){function f(a){return null==a||a.slotLimit!=c||a.historyVersion!=e||a.compressorExpr!=d}function g(a){return null!=a?globalEval(a):{compress:function(a){return a},decompress:function(a){return a}}}function h(){for(var b=[],c=0;c<a.length;c++)0==a.key(c).indexOf(t)&&b.push(a.key(c));for(var d=0;d<b.length;d++)a.removeItem(b[d]);a.removeItem(s),w=null,x=0}function i(b){for(var d=c/2,e=b+5;b+d>e;)a.removeItem(k(e%c)),e++}function j(b){var d=v.compress(JSON.stringify(b));try{a.setItem(b.id,d)}catch(e){log($("body"),"Unable save history with slots "+c+", clearing all history","ERROR");try{i(x),a.setItem(b.id,d)}catch(e){log($("body"),"Unable to clear enough room for history with history size "+c+", clearing all history","ERROR");try{h(),a.setItem(b.id,d)}catch(e){log($("body"),"Unable to save intercooler history with entire history cleared, is something else eating local storage? History Limit:"+c,"ERROR")}}}}function k(a){var b="";return b+=10>a?"00"+a:100>a?"0"+a:a,t+b}function l(b,f,g){var h={slot:x,url:g,id:k(x),elementId:b,content:f,timestamp:(new Date).getTime()};return j(h),x=(x+1)%c,a.setItem(s,JSON.stringify({slotLimit:c,nextHistorySlot:x,historyVersion:e,compressorExpr:d})),h}function m(b,c){var d=JSON.parse(v.decompress(a.getItem(b)));return null==d?void log($("body"),"Could not find restoration data with id "+b,"ERROR"):(d.content=c,void j(d))}function n(a){if(null==a.onpopstate||1!=a.onpopstate["ic-on-pop-state-handler"]){var b=a.onpopstate;a.onpopstate=function(a){$("body").trigger("handle.onpopstate.ic"),p(a)||b&&b(a),$("body").trigger("pageLoad.ic")},a.onpopstate["ic-on-pop-state-handler"]=!0}}function o(a,c,d,e){var f=c.attr("id");if(null==f)return void log(c,"To support history for a given element, you must have a valid id attribute on the element","ERROR");if(null!=w)m(w,e);else{var g=l(f,e,d);b.replaceState({"ic-id":g.id},"","")}var h=l(f,c.html(),a);b.pushState({"ic-id":h.id},"",a),w=h.id,c.trigger("pushUrl.ic",c,h)}function p(b){var c=b.state;if(c&&c["ic-id"]){var d=JSON.parse(v.decompress(a.getItem(c["ic-id"])));if(d){var e=findById(d.elementId);return null!=w&&(e.trigger("beforeHistorySnapshot.ic",[e,e]),m(w,e.html())),processICResponse(d.content,e),w=d.id,!0}}return!1}function q(){var b="",c=[];for(var d in a)c.push(d);c.sort();var e=0;for(var f in c){var g=2*a[c[f]].length;e+=g,b+=c[f]+"="+(g/1024/1024).toFixed(2)+" MB\n"}return b+"\nTOTAL LOCAL STORAGE: "+(e/1024/1024).toFixed(2)+" MB"}function r(){var b=0,d="HISTORY SLOTS\n";for(d+="--------------------------------------------------------------------------------------------\n";c>b;){var e=k(b),f=a.getItem(e);if(f){d+=e,d+=" - "+(2*f.length/1024/1024).toFixed(2)+" MB";var g=JSON.parse(v.decompress(f));d+=" - url: "+g.url,d+=" - content: "+g.content.substr(0,20).replace(/(\r\n|\n|\r)/gm,"")}else(b==x||e==w)&&(d+=e,d+=" - EMPTY");b==x&&(d+=" <-- NEXT SLOT"),e==w&&(d+=" <-- CURRENT SLOT"),(f||b==x||e==w)&&(d+="\n"),b++}return d+="Local State:\n",d+="==================\n",d+="nextHistorySlot : "+x+" \n",d+="currentHistorySlot : "+w+" \n"}var s="ic-history-support",t="ic-hist-elt-",u=JSON.parse(a.getItem(s)),v=g(d),w=null,x=0;return f(u)?(log($("body"),"Intercooler History configuration changed, clearing history","INFO"),h()):x=u.nextHistorySlot||0,{clearHistory:h,trimHistory:i,pushUrl:o,addPopStateHandler:n,internal:{addPopStateHandler:n,dumpHistoryState:r,dumpLocalStorage:q}}}function getSlotLimit(){var a=closestAttrValue($("body"),"ic-history-limit");if(a)try{return parseInt(a)}catch(b){log($("body"),"Bad ic-history-limit, using default 200 slots","ERROR")}return 200}function getCompressorExpr(){var a=closestAttrValue("body","ic-string-compressor");return a?globalEval(a):null}var _MACROS=["ic-get-from","ic-post-to","ic-put-to","ic-delete-from","ic-style-src","ic-attr-src","ic-prepend-from","ic-append-from"],_scrollHandler=null,_UUID=1,_history=newIntercoolerHistory(localStorage,window.history,getSlotLimit(),getCompressorExpr(),1);return $.ajaxTransport("text",function(a,b){if("#"==b.url[0]){var c="ic-local-",d=$(b.url),e=[],f=200,g="OK";d.each(function(a,b){$.each(b.attributes,function(a,b){if(b.name.substr(0,c.length)==c){var d=b.name.substring(c.length);if("status"==d){var h=b.value.match(/(\d+)\s?(.*)/);null!=h?(f=h[1],g=h[2]):(f="500",g="Attribute Error")}else e.push(d+": "+b.value)}})});var h=d.length>0?d.html():"";return{send:function(a,b){b(f,g,{html:h},e.join("\n"))},abort:function(){}}}return null}),$(function(){processNodes("body"),_history.addPopStateHandler(window),location.search&&location.search.indexOf("ic-launch-debugger=true")>=0&&Intercooler.debug()}),{history:function(){return _history},fireRequest:fireICRequest,processNodes:processNodes,closestAttrValue:closestAttrValue,verbFor:verbFor,isDependent:isDependent,getTarget:getTarget,debug:function(){var a=closestAttrValue("body","ic-debugger-url")||"https://intercoolerreleases-leaddynocom.netdna-ssl.com/intercooler-debugger.js";$.getScript(a).fail(function(a,b,c){log($("body"),formatError(c),"ERROR")})}}}();